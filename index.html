<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Hello, World! - A-Frame</title>
    <meta name="description" content="Hello, World! - A-Frame">
    <script src="https://aframe.io/releases/0.7.1/aframe.min.js"></script>
    <!-- <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script> -->
    <script src="https://npmcdn.com/aframe-animation-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-event-set-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-layout-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-template-component@3.1.1"></script>
    <script src="https://code.jquery.com/jquery-2.x-git.min.js"></script>
    <!-- <script src="https://seed-scarecrow.glitch.me/components/set-image.js"></script> -->
    <script>
      AFRAME.registerComponent('handle-events', {
        init: function () {
          var el = this.el;  // <a-box>
          var cam = document.querySelector('a-camera');

          el.addEventListener('click', function () {
            // el.setAttribute('scale', {x: 2, y: 1, z: 2});
            // console.log("hello");
            cam.setAttribute('position', {x: 0, y: 3.6, z: 0});
          });
        }
      });
    </script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <img id="groundTexture" src="https://cdn.aframe.io/a-painter/images/floor.jpg">
        <a-asset-item id="billy-high" src="billy-high.gltf"></a-asset-item>
        <a-asset-item id="billy-short" src="billy-short.gltf"></a-asset-item>
        <a-asset-item id="house-base" src="design-3D-2018.gltf"></a-asset-item>
        <img id="city-thumb" crossorigin="anonymous" src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/thumb-city.jpg">
        <img id="cubes-thumb" crossorigin="anonymous" src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/thumb-cubes.jpg">
        <img id="sechelt-thumb" crossorigin="anonymous" src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/thumb-sechelt.jpg">
      </a-assets>
      <!-- Using the asset management system. -->
      <a-entity gltf-model="#house-base" scale="1 1 1" position="0 0 0"></a-entity>
      <a-entity class="billy" gltf-model="billy-high.gltf" position="-0.8 0 0.6" rotation="0 180 0"></a-entity>
      <a-entity class="billy" gltf-model="billy-high.gltf" position="-.4 0 0.6" rotation="0 180 0"></a-entity>
      <a-entity class="billy" gltf-model="billy-high.gltf" position="0 0 0.6" rotation="0 180 0"></a-entity>
      <a-entity class="billy" gltf-model="billy-high.gltf" position="0.4 0 0.6" rotation="0 180 0"></a-entity>
      <a-entity class="billy" gltf-model="billy-short.gltf" position=".2 0 0.64" rotation="0 180 0"></a-entity>
      <a-entity class="billy" gltf-model="billy-short.gltf" position=".6 0 0.64" rotation="0 180 0"></a-entity>
      <a-box color="#EF2D5E" position="0 1 -4" handle-events></a-box>
      <a-entity id="links" layout="type: line; margin: 1.5" position="0.8 1 -2" rotation="0 180 0">
        <a-entity template="src: #link" data-src="#cubes" data-thumb="#cubes-thumb">Cubes</a-entity>
        <a-entity template="src: #link" onclick="goto2f()" href="https://codepen.io/elliepooh/" data-src="#city" data-thumb="#city-thumb">City</a-entity>
        <!-- <a-entity mixin="social" material="src: #codepen" position="-0.3 0 0.01" href="https://codepen.io/elliepooh/" target="#scale"> -->
      </a-entity>

      <script id="link" type="text/html">
        <a-entity class="link"
          geometry="primitive: plane; height: 1; width: 1"
          material="shader: flat; src: ${thumb}"
          event-set__1="_event: mousedown; scale: 1 1 1"
          event-set__2="_event: mouseup; scale: 1.2 1.2 1"
          event-set__3="_event: mouseenter; scale: 1.2 1.2 1"
          event-set__4="_event: mouseleave; scale: 1 1 1"
          set-image="on: click; target: #image-360; src: ${src}"></a-entity>
      </script>

      <a-camera id="camera" camera look-controls wasd-controls position="2.557 0 -3.313" rotation="0 -180 0">
        <a-entity cursor="fuse: true; fuseTimeout: 500"
           position="0 0 -1"
           geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
           material="color: red; shader: flat">
        </a-entity>
      </a-camera>

      <a-entity position="0 1.37 1.56" light="color:#fff;groundColor:#f8ffed;angle:63;shadowCameraFar:499.42;decay:0.14;distance:17.46;type:point"></a-entity>
      <a-sky color="#fff"></a-sky>
      <a-plane color="#ccc" rotation="-90 0 0" width="100" height="100"></a-plane>
      <a-entity light="type:ambient;intensity:0.3"></a-entity>
    </a-scene>

  </body>

</html>
